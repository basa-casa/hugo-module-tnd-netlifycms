{{ $pattern := "^import ([a-zA-Z]*) ([a-zA-Z/_-]*)$" }}

{{ $return := . }}
{{ $type := false }}
{{ $file := false }}
{{ if not (reflect.IsMap .) }}
  {{ if not (reflect.IsSlice .) }}
    {{ $input := . }}
    {{ $return = dict }}
    {{ with findRE $pattern $input }}
      {{ $return = . }}
      {{ with replaceRE $pattern "$1" $input }}
        {{ $type = . }}
      {{ end }}
      {{ with replaceRE $pattern "$2" $input }}
        {{ $file = . }}
      {{ end }}
      {{ if and $type $file }}
        {{ with index site.Data.netlifycms (pluralize $type) }}
          {{ with index . $file }}
            {{ $return = . }}
          {{ else }}
            {{ warnf "We couldn't find %s/%s" $type $file }}
          {{ end }}
        {{ else }}
          {{ warnf "We couldn't find Type %s" $type }}
        {{ end }}
      {{ end }}
    {{ end }}
  {{ end }}
{{ end }}

{{ return $return }}